<div *ngIf="isVisible" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" (click)="cancelMove()">
  <div class="bg-white dark:bg-dark-secondary rounded-lg shadow-lg p-6 w-full max-w-md" (click)="$event.stopPropagation()">
    <h2 class="text-xl font-bold mb-4 dark:text-white">Mover Nota Para...</h2>

    <div class="mb-4">
      <label for="notebook-select" class="block text-sm font-medium text-gray-700 dark:text-dark-text-secondary mb-2">Selecione o Caderno de Destino:</label>
      <select id="notebook-select" [(ngModel)]="selectedNotebookId" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-dark-primary dark:border-dark-border dark:text-white">
        <option *ngFor="let notebook of notebooks" [value]="notebook.id" [disabled]="notebook.id === currentNotebookId">
          {{ notebook.name }}
        </option>
      </select>
    </div>

    <div class="flex justify-end gap-4">
      <button (click)="cancelMove()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-dark-accent dark:text-white dark:hover:bg-opacity-80">
        Cancelar
      </button>
      <button (click)="confirmMove()" [disabled]="!selectedNotebookId() || selectedNotebookId() === currentNotebookId" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
        Mover Nota
      </button>
    </div>
  </div>
</div>
